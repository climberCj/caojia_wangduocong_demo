<div class="content-wrap">
	<div class="add-stu-wrap">
		<h3 class="patr-name">添加学生</h3>
		<form id="add_exam_form">
			<div class="form-table">
				<div class="info-write">
					<label for="studentId"><div>学号：</div></label>
					<input type="text"  id="studentId" name="stoptiona" th:value="${studentId}"/>
				</div>
				<div class="info-write">
					<label for="studentName"><div>姓名：</div></label>
					<input type="text"  id="studentName" name="stoptiona" th:value="${studentName}"/>
				</div>
				<div class="info-write">
					<label for="sclass"><div>班级：</div></label>
					<input type="text"  id="sclass" name="stoptionb" th:value="${sclass}"/>
				</div>
				<div class="info-write">
					<label for="teacherId"><div>老师工号：</div></label>
					<input type="text"  id="teacherId" name="stoptionc" th:value="${teacherId}"/>
				</div>
				<div class="info-write">
					<label for="result"><div>分数：</div></label>
					<input type="text" id="result" name="stoptiond" th:value="${result}"/>
				</div>
				<div class="operate">
					<a class="btn add-btn" id="add_save" th:onclick="subjectAdd.save()">添加</a>
					<a class="btn reset-btn" id="reset">重置</a>
				</div>
			</div>
		</form>

	</div>
</div>
<script th:inline="javascript">
    /*<![CDATA[*/
    $(function(){
        window.subjectAdd = window.subjectAdd || {};
        //页面初始化方法
        subjectAdd.init = function(){};
        //保存方法
        subjectAdd.save = function(){
            //表单校验
            if(subjectAdd.validate()){
                //保存
                $.ajax({
                    type:'post',
                    url:'student/save',
                    dataType:'json',
                    data:$("#add_exam_form").serializeArray(),
                    async:'false',//异步
                    success:function(res){
                        if(res.code='200'){
                            new $Msg({
                                content:"保存"+res.message+"！",
                                type:"success",
                                btnName : ["留在本页", "试题列表"],
                                confirm:function(){
                                    //刷新页面
                                    $("#content_page").load("subject/addExam",{"sysid":$("#subject_sysid".val())},function(){});
                                },
                                cancle:function(){
                                    //跳转列表
                                    $("#content_page").load("subject/list",function(){});
                                }
                            });
                        }
                    },
                    error:function(res){

                    }
                });
            }
        };
        //表单校验方法
/*
        subjectAdd.validate = function(){
            var textAreaVal = $("#exam_title").val();
            if(textAreaVal == null || textAreaVal == 'undefined' || textAreaVal == ''){
                new $Msg({
                    content:"试题题目为空，请输入！",
                    type:"success",
                    confirm:function(){
                        //获取焦点
                        $("#exam_title")[0].focus();
                    },
                    cancle:function(){
                        $("#exam_title")[0].focus();
                    }
                });
                return false;
            }
            var exam_a = $("#exam_option_A").val();
            if(exam_a == null || exam_a == 'undefined' || exam_a == ''){
                new $Msg({
                    content:"试题的A选项为空，请输入！",
                    type:"success",
                    confirm:function(){
                        //获取焦点
                        $("#exam_option_A")[0].focus();
                    },
                    cancle:function(){
                        $("#exam_option_A")[0].focus();
                    }
                });
                return false;
            }
            var exam_b = $("#exam_option_B").val();
            if(exam_b == null || exam_b == 'undefined' || exam_b == ''){
                new $Msg({
                    content:"试题的B选项为空，请输入！",
                    type:"success",
                    confirm:function(){
                        //获取焦点
                        $("#exam_option_B")[0].focus();
                    },
                    cancle:function(){
                        $("#exam_option_B")[0].focus();
                    }
                });
                return false;
            }
            var exam_c = $("#exam_option_C").val();
            if(exam_c == null || exam_c == 'undefined' || exam_c == ''){
                new $Msg({
                    content:"试题的C选项为空，请输入！",
                    type:"success",
                    confirm:function(){
                        //获取焦点
                        $("#exam_option_C")[0].focus();
                    },
                    cancle:function(){
                        $("#exam_option_C")[0].focus();
                    }
                });
                return false;
            }
            var exam_d = $("#exam_option_D").val();
            if(exam_d == null || exam_d == 'undefined' || exam_d == ''){
                new $Msg({
                    content:"试题的D选项为空，请输入！",
                    type:"success",
                    confirm:function(){
                        //获取焦点
                        $("#exam_option_D")[0].focus();
                    },
                    cancle:function(){
                        $("#exam_option_D")[0].focus();
                    }
                });
                return false;
            }
            var right_answer = $("#add_exam_form input[type='radio']:checked").val();
            if(right_answer == null || right_answer == 'undefined' || right_answer == ''){
                new $Msg({
                    content:"请选择试题的正确答案！",
                    type:"success",
                    confirm:function(){},
                    cancle:function(){}
                });
                return false;
            }
            return true;
        };
*/
        subjectAdd.validate = function(){
            return true;
		}
        //方法调用
        subjectAdd.init();
    });
    /*]]>*/
</script>